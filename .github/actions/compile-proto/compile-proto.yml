name: Compile Measurements Proto Contracts
description: Compile protobuf contracts for measurements subsystem

runs:
  using: composite
  steps:
    - name: Call include assets script
      shell: bash
      run: |
          pushd './source/bronze/src/infrastructure/contracts'
          mkdir ./assets
          protoc --include_imports --descriptor_set_out=../assets/persist_submitted_transaction.binpb PersistSubmittedTransaction.proto
          protoc --include_imports --descriptor_set_out=../assets/submitted_transaction_persisted.binpb SubmittedTransactionPersisted.proto
          popd
